# MANUAL TEST CASES

## Функционал антиспама (капча)

### Тест-кейс 1: Правильное решение капчи новым участником

**Шаги:**

1. Новый пользователь заходит в чат.
2. Бот отправляет пользователю капчу.
3. Пользователь правильно решает капчу.

**Ожидаемый результат:**

- Бот удаляет сообщение с капчей и ответ пользователя.
- Сообщение о заходе пользователя в чат не удаляется.
- Бот отправляет приветственное сообщение новому пользователю.

---

### Тест-кейс 2: Неправильное решение капчи новым участником

**Шаги:**

1. Новый пользователь заходит в чат.
2. Бот отправляет пользователю капчу.
3. Пользователь неправильно решает капчу.

**Ожидаемый результат:**

- Бот банит пользователя.
- Бот удаляет сообщение о заходе пользователя (если есть такая возможность).
- Бот удаляет сообщение с капчей и неправильный ответ пользователя.

---

### Тест-кейс 3: Неправильное решение капчи с несколькими сообщениями от пользователя

**Шаги:**

1. Новый пользователь заходит в чат.
2. Бот отправляет пользователю капчу.
3. Пользователь неправильно решает капчу и успевает отправить несколько сообщений.

**Ожидаемый результат:**

- Бот банит пользователя.
- Бот удаляет сообщение о заходе пользователя (если возможно).
- Бот удаляет сообщение с капчей, неправильный ответ и все отправленные пользователем сообщения.

---

### Тест-кейс 4: Пользователь игнорирует капчу

**Шаги:**

1. Новый пользователь заходит в чат.
2. Бот отправляет пользователю капчу.
3. Пользователь ничего не отвечает в течение одной минуты.

**Ожидаемый результат:**

- Через минуту бот банит пользователя.
- Бот удаляет сообщение с капчей.
- Сообщение о заходе пользователя удаляется, если это возможно.

---

### Тест-кейс 5: Пользователь заходит и сразу выходит из чата

**Шаги:**

1. Новый пользователь заходит в чат.
2. Бот отправляет пользователю капчу.
3. Пользователь сразу выходит из чата, не решая капчу.

**Ожидаемый результат:**

- Через минуту бот банит пользователя.
- Сообщения о входе и выходе пользователя удаляются, если это возможно.
- Сообщение с капчей удаляется.

---

### Тест-кейс 6: Повторный вход пользователя до бана

**Шаги:**

1. Новый пользователь заходит в чат.
2. Бот отправляет пользователю капчу.
3. Пользователь сразу выходит из чата, не решая капчу.
4. Пользователь повторно заходит в чат до того, как был забанен.

**Ожидаемый результат:**

- Старые сообщения (о входе, выходе и капче) удаляются.
- Таймер антиспама перезапускается.
- Бот отправляет новую капчу пользователю (сценарий как в тест-кейсе №1).

