# MANUAL TEST CASES

## Функционал антиспама (капча)

### Тест-кейс 1: Правильное решение капчи новым участником

**Шаги:**

1. Новый пользователь заходит в чат.
2. Бот отправляет пользователю капчу.
3. Пользователь правильно решает капчу.

**Ожидаемый результат:**

- Бот удаляет сообщение с капчей и ответ пользователя.
- Сообщение о заходе пользователя в чат не удаляется.
- Бот отправляет приветственное сообщение новому пользователю.

Пройдено 2025-03-27

---

### Тест-кейс 2: Неправильное решение капчи новым участником

**Шаги:**

1. Новый пользователь заходит в чат.
2. Бот отправляет пользователю капчу.
3. Пользователь неправильно решает капчу.

**Ожидаемый результат:**

- Бот банит пользователя.
- Бот удаляет сообщение о заходе пользователя.
- Бот удаляет сообщение с капчей и неправильный ответ пользователя.
- Бот удаляет сообщение о кике пользователя.

Пройдено 2025-03-28

---

### Тест-кейс 3: Неправильное решение капчи с несколькими сообщениями от пользователя

**Шаги:**

1. Новый пользователь заходит в чат.
2. Бот отправляет пользователю капчу.
3. Пользователь неправильно решает капчу и успевает отправить несколько сообщений.

**Ожидаемый результат:**

- Бот банит пользователя.
- Бот удаляет сообщение о заходе пользователя .
- Бот удаляет сообщение с капчей, неправильный ответ и все отправленные пользователем сообщения.
- Бот удаляет сообщение о кике пользователя.

---

### Тест-кейс 4: Пользователь игнорирует капчу

**Шаги:**

1. Новый пользователь заходит в чат.
2. Бот отправляет пользователю капчу.
3. Пользователь ничего не отвечает в течение одной минуты.

**Ожидаемый результат:**

- Через минуту бот банит пользователя.
- Бот удаляет сообщение с капчей.
- Сообщение о заходе пользователя удаляется.
- Бот удаляет сообщение о кике пользователя.

Пройдено 2025-03-28

---

### Тест-кейс 5: Пользователь заходит и сразу выходит из чата

**Шаги:**

1. Новый пользователь заходит в чат.
2. Бот отправляет пользователю капчу.
3. Пользователь сразу выходит из чата, не решая капчу.

**Ожидаемый результат:**

- Через минуту бот банит пользователя.
- Сообщение с капчей удаляется.
- Сообщения о входе и выходе пользователя НЕ удаляются.

Пройдено 2025-03-28

---

### Тест-кейс 6: Повторный вход пользователя до бана

**Шаги:**

1. Новый пользователь заходит в чат.
2. Бот отправляет пользователю капчу.
3. Пользователь сразу выходит из чата, не решая капчу.
4. Пользователь повторно заходит в чат до того, как был забанен.

**Ожидаемый результат:**

- Старое сообщение о капче удаляется удаляются.
- Сообщения о входе и выходе не удаляются.
- Таймер антиспама перезапускается.
- Бот отправляет новую капчу пользователю (сценарий как в тест-кейсе №1).

Пройдено 2025-03-28
